{"remainingRequest":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\src\\views\\problemRelease\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\src\\views\\problemRelease\\index.vue","mtime":1648035573788},{"path":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\babel.config.js","mtime":1647672900349},{"path":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647674269470},{"path":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1647674291936},{"path":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647674269470},{"path":"C:\\Users\\26958\\Desktop\\study\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1647674296231}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzI2OTU4L0Rlc2t0b3Avc3R1ZHkvdnVlLWFkbWluLXRlbXBsYXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJvYmxlbVJlbGVhc2UnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9ibGVtOiB7CiAgICAgICAgcm9vbTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5yb29tLAogICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCksCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgc3RhdHVzOiAn5pyq5aSE55CGJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpl67popgnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRVc2VySW5mbycsIF90aGlzLnBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9ibGVtLnJvb20gPSBfdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5yb29tOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0UHJvYmxlbTogZnVuY3Rpb24gc3VibWl0UHJvYmxlbSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczIuJEFQSS5wcm9ibGVtLnJlcUFkZFByb2JsZW0oX3RoaXMyLnByb2JsZW0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmj5DkuqTmiJDlip8nLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMi5wcm9ibGVtLmNvbnRlbnQgPSAnJzsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACAA,wBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,kDADA;AAEAC,mDAFA;AAGAC,mBAHA;AAIAC;AAJA,OADA;AAOAC;AACAF,kBACA;AAAAG;AAAAC;AAAAC;AAAA,SADA;AADA;AAPA;AAaA,GAhBA;AAiBAC,SAjBA,qBAiBA;AACA;AACA,GAnBA;AAoBAC;AACAC,WADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,qDADA;;AAAA;AAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKAC,iBALA,2BAKA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACAL,6BADA;AAEAM;AAFA;;AAIA;AACA,WAPA;AAQA;AACA,OAXA;AAYA;AAlBA;AApBA","names":["name","data","problem","room","time","content","status","rules","required","message","trigger","mounted","methods","getData","submitProblem","type"],"sourceRoot":"src/views/problemRelease","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3 style=\"margin: 20px 0\">发布问题</h3>\r\n    <hr color='#eee'>\r\n\r\n    <el-form ref=\"form\" :model=\"problem\" label-width=\"60px\" :rules=\"rules\">\r\n      <el-form-item label=\"日期\">\r\n        <el-input \r\n          placeholder=\"请选择日期\"\r\n          disabled\r\n          style=\"width: 600px;\"\r\n          v-model=\"problem.time\">\r\n        </el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"寝室号\">\r\n        <el-input v-model=\"problem.room\" style=\"width: 600px;\" placeholder=\"请输入寝室号\" disabled></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"内容\" prop=\"content\">\r\n        <el-input\r\n          type=\"textarea\"\r\n          style=\"width: 600px;\"\r\n          :rows=\"10\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"problem.content\">\r\n        </el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n   <el-button type=\"success\" style=\"display: block;margin:0 600px;\" @click=\"submitProblem\">提交</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ProblemRelease',\r\n  data() {\r\n    return {\r\n      problem:{\r\n        room: this.$store.state.user.userInfo.room,\r\n        time: new Date().toISOString().slice(0, 10),\r\n        content: '',\r\n        status: '未处理',\r\n      },\r\n      rules: {\r\n        content: [\r\n          {required: true, message: '请输入问题', trigger: 'blur'},\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getData();\r\n  },\r\n  methods:{\r\n    async getData(){\r\n      await this.$store.dispatch('user/getUserInfo', this.page);\r\n      this.problem.room = this.$store.state.user.userInfo.room;\r\n    },\r\n    submitProblem(){\r\n      this.$refs.form.validate((valid) => {\r\n        if(valid){\r\n          this.$API.problem.reqAddProblem(this.problem).then(response => {\r\n            // console.log(response)\r\n            this.$message({\r\n              message: '提交成功',\r\n              type: 'success'\r\n            });\r\n            this.problem.content = '';\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n \r\n</style>\r\n"]}]}